@import "compass/reset";
@import "compass/css3";
@import "helpers";
@import "breakpoint";

$breakpoint-medium-width: max-width 700px;

@-webkit-keyframes fadeIn {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}
@-moz-keyframes fadeIn {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}
@-o-keyframes fadeIn {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}
@keyframes fadeIn {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}

html, body { height:100%; width:100%; margin:0; }

body{
  background: #000;

  .cover {
    @include position(0,0,0,0);
    @include size(100%);

    background: url(../img/bkg.jpg) no-repeat center center fixed;
    @include background-size(cover);

    filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='.../img/bkg.jpg', sizingMethod='scale');
    -ms-filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='../img/bkg.jpg', sizingMethod='scale')";

    -webkit-animation: fadeIn 5s; /* Safari 4+ */
    -moz-animation:    fadeIn 5s; /* Fx 5+ */
    -o-animation:      fadeIn 5s; /* Opera 12+ */
    animation:         fadeIn 5s; /* IE 10+ */

  }

  line-height:normal;

  font-family: "Helvetica Neue", "Helvetica", Arial, sans-serif;
  color:#333;

  text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased;


}

h1 a {
  font-size:117px;
  color: #fff;
  font-weight: bold;
  text-align:center;

  @include simple-transition(font-size);

  position: absolute;
  width: 100%;
  letter-spacing: -4px;
  font-weight: bold;
  color: white;
  background: url(../img/masked_circle.png) no-repeat center center;
  line-height: 300px;
  text-decoration:none;


  @include breakpoint($breakpoint-medium-width) {
    font-size: 90px;
  }
}

header {

  margin: auto;
  @include absolute-landscape-center(700px);
  top: 25%;

  @include simple-transition(all);

  @include breakpoint($breakpoint-medium-width) {
    @include absolute-landscape-center(470px);
    top: 25%;
  }
}

.content {

  position:absolute;
  bottom: 200px;
  width: 100%;
  text-align:center;

  p {
    width: 557px;
    margin: 0 auto 40px auto;
    font-size: 17px;
    color:#fff;
  }

  .btn {
    margin: auto;
    @include inline-block();
    font-size: 17px;
    color:#fff;
    font-weight:bold;
    text-decoration:none;
    @include border-radius(8px);
    @include simple-transition(all);

    border: 3px solid rgba(#000, .3);
    padding: 18px 24px;

    &:hover {
      background:#fff;
      color:#333;

    }

  }

}

.bottom{
  display: block;
  text-align:center;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 190px;
}

h2{
  margin: 0 auto 50px auto;
  font-size: 17px;
  font-weight: normal;
  color: #fff;
  width: 550px;
}

a.button, a.button:visited{
  @include box-sizing(border-box);
  width: 220px;
  margin:auto;
  background: url(../img/button220.png) no-repeat 0 0;
  padding: 19px 28px 19px 28px;
  font-size: 17px;
  font-weight: bold;
  text-decoration: none;
  color: white;
}

a.button:hover{
  background: url(../img/button220.png) no-repeat 0 -59px;
}



/*MAP*/

#header{
  @include opacity(0);
  display: block;
  position: absolute;
  top: -71px;
  width: 100%;
  height: 71px;
  background-color: #111;
  border-bottom: 1px solid rgba(255,255,255,0.2);
  z-index: 10000;

  a{
    display: block;
    color: #fff;
    font-weight: bold;
    font-size: 25px;
    letter-spacing: 0;
    text-decoration: none;
    margin: 20px 0 0 30px;
    float: left;
  }

  ul {
    float: right;
    margin: 25px 55px 0 0;

    li {

      &.about { margin-right: 10px; }
      &.facebook { margin-left: -20px; }

      display: inline;
      margin-left: 5px;

      a {
        font-weight: normal;
        font-size: 17px;
        letter-spacing: 0px;
        margin: 0 0 0 30px;
        text-decoration:none;

        &:hover {
          text-decoration:underline;
        }

      }
    }
  }
}


#map{
  width: 100%; height: 100%;
  padding: 0;
  margin: 0;
  @include position(0, 0, 0, 0);
}

#slider {

  @include opacity(0);

  $sliderHeight: 71px;
  position:relative;
  z-index: 100000;

  display: block;
  @include position(false, false, -$sliderHeight, 0);
  @include size(100%, $sliderHeight);
  background-color: #111;

  .date {
    min-width: 60px;
    text-align:center;
    display:none;
    @include position($sliderHeight/2 - 14, false, false, 100px);
    padding: 7px 8px;
    background: #0099EF;
    @include border-radius(3px);
    text-transform: uppercase;
    border: 1px solid #333;
    color:#fff;
    font-size: 11px;
    font-weight:bold;
    pointer-events:none;
    z-index: 110;

    .suffix { text-transform: lowercase; }
  }

  .border {
    position:absolute;
    top: 0; left: 0;
    @include size(100%, 1px);
    background-color: #fff;
    @include opacity(.2);
    z-index: 120;
  }

  .months {
    @include position(0, false, false, 0);
    z-index: 10;
    @extend .disable-selection;


    li {
      @include box-sizing(border-box);
      height:$sliderHeight;
      width: 111px;
      padding-top: 30px;
      text-align:center;
      position:absolute;
      @include inline-block();
      font-size:11px;
      font-weight:bold;
      color:#fff;
      @include opacity(.5);
      text-transform: uppercase;
      cursor: pointer;
    }
  }

  .handle {
    @include size(20px, $sliderHeight);
    @include position(0, false, false, 0);
    cursor: ew-resize;
    background: url(../img/handle.png) no-repeat 0px center;
    z-index: 100;
  }

  .highlight {
    @include size(0, $sliderHeight);
    @include position(0, false, false, 0);
    background: #0099EF;
    z-index: 1;
  }
}


#sun {
  position:absolute;
  z-index: 1000;
}



/* Zoom */

#zoom {

  $zoomWidth: 43px;
  $zoomHeight: 36px; // distance from the top of the canvas until the middle line

  @include position(90px, false, false, 20px);

  $url: "../img/map-zoom.png";

  z-index: 1000;

  .zoom_in,
  .zoom_out { display:block; position:relative; width: $zoomWidth; height: $zoomHeight; cursor: pointer; }

  .zoom_in {
    background: transparent url($url) no-repeat 0 0;
    &:hover  { background: transparent url($url) no-repeat -1*$zoomWidth 0; }
    &:active { background: transparent url($url) no-repeat -2*$zoomWidth 0; }
  }

  .zoom_out {
    background: transparent url($url) no-repeat 0 -1*$zoomHeight;
    &:hover  { background: transparent url($url) no-repeat -1*$zoomWidth -1*$zoomHeight; }
    &:active { background: transparent url($url) no-repeat -2*$zoomWidth -1*$zoomHeight; }
  }
}


body.map {
  .credits {
    @include position(false, 10px, 83px, false);
    &, a { font-size: 12px; color:#fff; }
    z-index: 10000;
  }
}
.credits {
  display:none;
  @include position(false, 7px, 7px, false);
  &, a { font-size: 12px; color:#fff; }
}

.cartodb_logo {
  display:none;

  @include size(69px, 27px);
  @include position(false, false, 83px, 15px);

  background:url('http://cartodb.s3.amazonaws.com/embed/embed_sprite.png') no-repeat -61px 0;

  text-indent:-9999px;
  z-index: 10000;
}

